---
import Card from "../Card/Card.astro";
import CloseButton from "../Buttons/CloseButton.astro";
import ContactIco from "../../assets/contacts.svg";
import ModalBg from "../../assets/modalbg.svg";
import ButtonBg from "../../assets/buttonbg.png";
const cardId = "contact";
---

<div>
  <div class="cursor-pointer" id="contactCard">
    <Card title="Contact" icon={ContactIco.src} cardId={cardId} />
  </div>
  <div
    class="hidden z-[1000]
      w-full h-full
      pointer-events-none
      fixed top-0 left-0 justify-center items-center [&.visible]:flex"
    id="contactModalOverlay"
  >
    <div
      class="overflow-visible
        max-w-[600px] w-full max-h-[70vh]
        p-8
        bg-cover bg-no-repeat
        border-[7px] border-[#362b14] rounded-lg
        shadow-[0_4px_20px_rgba(0,0,0,0.2)] pointer-events-auto
        relative translate-x-0 translate-y-0
        font-['Poppins',sans-serif]"
      id="contactContainer"
      style={`background-image: url(${ModalBg.src})`}
    >
      <div
        class="z-10
          w-full h-[40px]
          bg-[rgba(0,0,0,0.1)]
          border-b-2 border-dashed border-[rgba(252,245,229,0.5)]
          cursor-move transition-colors
          absolute top-0 left-0 hover:border-b-[rgba(252,245,229,0.8)] duration-200"
        id="contactModalHeader"
      >
      </div>
      <CloseButton id="contactCloseModal" buttonBg={ButtonBg.src} />

      <div
        class="z-[5] overflow-y-auto overflow-x-hidden flex flex-col
          max-h-[calc(70vh-70px)]
          pt-[10px] p-[5px]
          select-none
          relative -m-[5px] [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"
      >
        <h2
          class="flex
            mt-0 mb-6
            text-[2rem] text-[#fcf5e5]
            self-center"
        >
          Contact Me
        </h2>

        <div class="flex flex-col
            mb-4
            text-[#fff5ee]">
          <span class="mb-1
              font-bold">Email:</span>
          <a
            href="mailto:cyjnavarro@gmail.com"
            class="text-[#fcf5e5]
                no-underline hover:underline"
            >cyjnavarro@gmail.com</a
          >
        </div>

        <div class="flex flex-col
            mb-4
            text-[#fff5ee]">
          <span class="mb-1
              font-bold">LinkedIn:</span>
          <a
            href="https://linkedin.com/in/yourprofile"
            target="_blank"
            rel="noopener noreferrer"
            class="text-[#fcf5e5]
                no-underline hover:underline"
            >linkedin.com/in/yourprofile</a
          >
        </div>

        <div class="flex flex-col
            mb-4
            text-[#fff5ee]">
          <span class="mb-1
              font-bold">GitHub:</span>
          <a
            href="https://github.com/yourusername"
            target="_blank"
            rel="noopener noreferrer"
            class="text-[#fcf5e5]
                no-underline hover:underline"
            >github.com/yourusername</a
          >
        </div>

        <!-- Optional contact form -->
        <div
          class="mt-8 pt-4
            border-t border-[rgba(255,255,255,0.2)]"
        >
          <h3
            class="mb-4
              text-[#fcf5e5] text-2xl
              select-none"
          >
            Send a Message
          </h3>

          <div class="mb-4">
            <label
              class="block
                mb-2
                text-[#fcf5e5]
                select-none"
              >Name</label
            >
            <input
              type="text"
              class="w-full
                  p-3
                  text-[#333]
                  bg-[rgba(255,255,255,0.9)]
                  border border-[#362b14]
                  rounded focus:outline-none focus:border-[#8a6d3b] focus:shadow-[0_0_0_2px_rgba(138,109,59,0.25)]"
            />
          </div>

          <div class="mb-4">
            <label
              class="block
                mb-2
                text-[#fcf5e5]
                select-none"
              >Email</label
            >
            <input
              type="email"
              class="w-full
                  p-3
                  text-[#333]
                  bg-[rgba(255,255,255,0.9)]
                  border border-[#362b14]
                  rounded focus:outline-none focus:border-[#8a6d3b] focus:shadow-[0_0_0_2px_rgba(138,109,59,0.25)]"
            />
          </div>

          <div class="mb-4">
            <label
              class="block
                mb-2
                text-[#fcf5e5]
                select-none"
              >Message</label
            >
            <textarea
              rows="4"
              class="w-full
                  p-3
                  text-[#333]
                  bg-[rgba(255,255,255,0.9)]
                  border border-[#362b14]
                  rounded focus:outline-none focus:border-[#8a6d3b] focus:shadow-[0_0_0_2px_rgba(138,109,59,0.25)]"
            ></textarea>
          </div>

          <button
            class="py-3 px-6
              text-white font-bold
              bg-[#5a4423]
              border-none
              cursor-pointer transition-colors select-none
              rounded duration-200 hover:bg-[#6b522c] active:bg-[#4a381c]"
          >
            Send Message
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    import { initializeContact } from "./contactsHandler";
    const cardId = "contact";
    initializeContact(cardId);
  </script>
</div>

<style>
  .dragging {
    user-select: none;
  }
</style>
